<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>波次编辑器 - Wave Creator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <header class="header">
            <h1>🎮 波次编辑器 - Wave Creator</h1>
            <div class="header-controls">
                <button id="addTrackBtn" class="btn btn-primary">➕ 添加轨道</button>
                <button class="btn btn-secondary" onclick="app.showWaveStatistics()">📊 波次统计</button>
                <button class="btn btn-secondary" onclick="app.exportWaveConfig()">📤 导出配置</button>
                <button class="btn btn-secondary" onclick="app.openEnemyManager()">👾 管理敌人</button>
                <label>
                    时长(秒): 
                    <input type="number" id="durationInput" value="60" min="10" max="600" step="10">
                </label>
                <label>
                    <input type="checkbox" id="snapToGrid" checked>
                    🧲 对齐刻度
                </label>
                <div class="zoom-indicator">
                    缩放: <span id="zoomLevel">100%</span>
                </div>
            </div>
        </header>

        <div class="main-content">
            <!-- 轨道列表 -->
            <div class="tracks-panel">
                <div id="trackList" class="track-list">
                    <!-- 轨道将动态添加到这里 -->
                </div>
            </div>

            <!-- 时间轴区域 -->
            <div class="timeline-panel">
                <div class="timeline-ruler" id="timelineRuler">
                    <!-- 时间刻度将动态生成 -->
                </div>
                <div class="timeline-tracks" id="timelineTracks">
                    <div class="snap-line" id="snapLine"></div>
                    <!-- 时间轴轨道将动态添加到这里 -->
                </div>
            </div>
        </div>

        <!-- 侧边栏 - 事件编辑 -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3>事件编辑器</h3>
                <button id="closeSidebar" class="btn-close">✖</button>
            </div>
            <div class="sidebar-content" id="sidebarContent">
                <p class="placeholder">点击事件或双击轨道添加事件</p>
            </div>
        </aside>
    </div>

    <script src="models.js"></script>
    <script src="app.js"></script>
    <script>
        // 初始化应用
        let app;
        window.addEventListener('DOMContentLoaded', () => {
            app = new TimelineApp();
        });
    </script>
</body>
</html>
